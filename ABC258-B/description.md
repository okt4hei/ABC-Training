# ABC258 B - Christmas Trees

## 問題

リンクは[こちら](https://atcoder.jp/contests/abc258/tasks/abc258_b)

### 問題文

正整数 $N$ が与えられます。

$N$ 行 $N$ 列のマス目があり、上から $i$ 行目、左から $j$ 列目のマスには数字 $A_{i,j}$​ が書かれています。

このマス目は上下および左右がつながっているものとします。つまり以下が全て成り立ちます。

- $(1,i)$ の上のマスは $(N,i)$ であり、$(N,i)$ の下のマスは $(1,i)$ である。$(1≤i≤N)$
- $(i,1)$ の左のマスは $(i,N)$ であり、$(i,N)$ の右のマスは $(i,1)$ である。$(1≤i≤N)$

高橋君は、上下左右および斜めの $8$ 方向のうちいずれかを初めに選びます。そして、好きなマスから決めた方向に $1$ マス移動することを $N−1$ 回繰り返します。

高橋君は $N$ 個のマス上を移動することになりますが、高橋君が通ったマスに書かれている数字を左から通った順番に並べた整数としてあり得る最大のものを求めてください。

### 制約

- $1 \leq N \leq 10$
- $1 \leq A_{i,j} \leq 9$
- 入力はすべて整数

### 入力

入力は以下の形式で標準入力から与えられる。

```math
\begin{array}{l}
N\\
A_{1,1}A_{1,2} \dots A_{1,N}\\
A_{2,1}A_{2,2} \dots A_{2,N}\\
\vdots\\
A_{N,1}A_{N,2} \dots A_{N,N}
\end{array}
```

### 出力

答えを出力せよ。

## 回答方針

高々 800 通りの数列を比較すれば良いため、全探索する。
ただし、以下の条件に当てはまる場合は、その数列の探索を打ち切って次へ進む。

- 数列の $n(n>1)$ 文字目の数字が $1$ 文字目の数字より大きい場合
  - ※この場合、$n$ 文字目から数列を始めた方が大きな値になるため
- その時点での最大値を超えられないことが確定した場合

## 提出結果

提出結果は[こちら](https://atcoder.jp/contests/abc258/submissions/61301313)
